{% extends 'template_base.html' %}
{% load static %}

{% block title %}
<title>Detalle del Curso</title>
{% endblock title %}

{% block content %}
<div class="container mt-4">
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0">üìò Detalle del Curso</h5>
        </div>
        <div class="card-body">
            <h4 class="card-title">{{ curso.nombre_curso }}</h4>
            <p><strong>Profesor:</strong> {{ curso.profesor_curso.nombre }} {{ curso.profesor_curso.apellidos }}</p>
            <p><strong>Modalidad:</strong> {{ curso.modalidad }}</p>
            <p><strong>Fechas:</strong> {{ curso.fecha_inicio }} - {{ curso.fecha_fin }}</p>
            <p><strong>Descripci√≥n:</strong> {{ curso.descripcion }}</p>
            <p><strong>Cupo m√°ximo:</strong> {{ curso.max_alumnos }}</p>
            <p><strong>Alumnos inscritos:</strong> {{ curso.alumnos_count }}</p>
        </div>
    </div>
    <div>
        <p>
            <a href="{% url 'agregar_material' curso.id %}" class="btn btn-success">
                ‚ûï Agregar Material al curso
            </a>
        </p>
        <p>
            <a href="{% url 'ver_materiales' curso.id %}" class="btn btn-info">
                üìÇ Ver los materiales del curso
            </a>
        </p>
    </div>

    <div class="card mt-4 shadow-sm">
        <div class="card-header bg-dark text-white">
            üë®‚Äçüéì Alumnos Inscritos
        </div>
        <div class="card-body p-0">
            {% if alumnos_inscritos %}
            <div class="table-responsive">
                <table class="table table-hover align-middle mb-0">
                    <thead class="table-light">
                        <tr>
                            <th>Nombre</th>
                            <th>Apellidos</th>
                            <th>Email</th>
                            <th>Tel√©fono</th>
                            <th>Fecha de Nacimiento</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for alumno in alumnos_inscritos %}
                        <tr>
                            <td>{{ alumno.nombre }}</td>
                            <td>{{ alumno.apellidos }}</td>
                            <td>{{ alumno.email }}</td>
                            <td>{{ alumno.telefono }}</td>
                            <td>{{ alumno.fecha_nacimiento }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% else %}
                <div class="p-3 text-muted">No hay alumnos inscritos a√∫n en este curso.</div>
            {% endif %}
        </div>
    </div>
    
    <div class="mt-3">
        <a href="{% url 'listar_cursos' %}" class="btn btn-secondary">‚Üê Volver a Cursos</a>
    </div>
</div>
{% endblock content %}
